<!DOCTYPE html>
<html>
  <head>
    <title>Sub-Domain acquired :)</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        user-select: none;
        box-sizing: border-box;
        font-family: system-ui;
      }

      body {
        height: 100vh;
        width: 100vw;
        color: white;
        overflow: auto;
        text-align: center;
        background-color: black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        padding-top: 5rem;
        padding-bottom: 5rem;
      }

      body::after {
        content: '';
        height: 400px;
        width: 400px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        background-image: conic-gradient(
          from 180deg at 50% 50%,
          #00ffc2 0deg,
          #00f0ff 10.07deg,
          #0077ff 179.52deg,
          #ff0099 299.65deg,
          #0470e5 329.6deg,
          #00ffc2 360deg
        );
        filter: blur(4rem);
        z-index: -1;
        opacity: 0.6;
        animation: animate 2s ease infinite;
      }

      .domain {
        display: inline-block;
        padding: 4px 8px;
        border-radius: 0.5rem;
        margin: 0.5rem;
        background-color: rgba(255, 255, 255, 0.211);
      }

      @keyframes animate {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1.1);
        }

        50% {
          transform: translate(-50%, -50%) scale(0.8);
        }
      }

      img {
        height: 25px;
        position: absolute;
        bottom: 1%;
        right: 1%;
        filter: invert(1);
      }

      #domain-list-container {
        margin-top: 2rem;
        max-height: 50vh;
        overflow-y: auto;
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 0.5rem;
        padding: 1rem;
        width: 80%;
        max-width: 600px;
      }

      #domain-list {
        list-style: none;
        padding: 0;
        margin-top: 1rem;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      #domain-list a {
        color: white;
        text-decoration: none;
        margin: 0.25rem;
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        background-color: rgba(255, 255, 255, 0.1);
        transition: background-color 0.2s ease;
      }

      #domain-list a:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }
    </style>
  </head>
  <body>
    <div>
      <span class="domain">example.pages.dev</span> <br />
      is acquired to prevent misuse
    </div>

    <div id="domain-list-container" style="display: none;">
      <h2>Protected Domains</h2>
      <div id="domain-list"></div>
    </div>

    <img src="woka.png" alt="WOOKA" height="25px" />
    <script>
      const domain = document.querySelector('.domain');
      const url = new URL(location.href);
      const source = url.searchParams.get("source");

      domain.textContent = source || "The domain you are looking for";

      const domainListContainer = document.getElementById('domain-list-container');
      const domainList = document.getElementById('domain-list');

      fetch('README.md')
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then(text => {
          const domains = (text.match(/- \[(.*?)\]\(https:/g) || []).map(line => {
            const match = line.match(/- \[(.*?)\]/);
            return match ? match[1] : null;
          }).filter(Boolean);

          if (domains.length > 0) {
            domainList.innerHTML = ''; // Clear existing content
            domains.forEach(domainName => {
              const link = document.createElement('a');
              link.href = `https://${domainName}`;
              link.textContent = domainName;
              link.target = '_blank';
              link.rel = 'noopener noreferrer';
              domainList.appendChild(link);
            });
            domainListContainer.style.display = 'block';
          }
        })
        .catch(error => {
          console.error('There has been a problem with your fetch operation:', error);
          domainListContainer.style.display = 'block';
          domainList.innerHTML = '<p>Could not load domain list.</p>';
        });
    </script>
  </body>
</html>
